{"ast":null,"code":"var _jsxFileName = \"/media/suvradeep/My Profile/edu/Projects/Core React/fullStack/frontend/src/Pages/Landing.tsx\";\nimport React, { Component } from \"react\";\nimport \"../Style/Style.css\";\nimport LogInOrSignUp from \"../Components/LogInOrSignUp\";\nimport RecentLoginTab from \"../Components/RecentLoginTab\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Landing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userRegister: {\n        name: \"\",\n        email: \"\",\n        password: \"\"\n      },\n      logInDetails: {\n        email: \"\",\n        password: \"\"\n      },\n      loading: false,\n      submit: false,\n      logInStatus: \"\",\n      signUpStatus: \"\",\n      loggedIn: false\n    };\n    this.onLogInChange = this.onLogInChange.bind(this);\n    this.onLogIn = this.onLogIn.bind(this);\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"token\");\n\n    if (token != null) {\n      this.setState({\n        loggedIn: true\n      });\n    }\n  } // ********* Log in *************\n\n\n  onLogInChange(e) {\n    this.setState(preState => ({\n      logInDetails: { ...preState.logInDetails,\n        [e.target.name]: e.target.value\n      }\n    }));\n  }\n\n  onLogIn() {\n    if (!this.state.logInDetails.email) {\n      this.setState({\n        logInStatus: \"Email Must\",\n        submit: true\n      });\n    } else if (!this.state.logInDetails.password) {\n      this.setState({\n        logInStatus: \"Password Must\",\n        submit: true\n      });\n    } else {\n      this.setState({\n        loading: true,\n        submit: true\n      });\n      axios.post(\"http://localhost:8080/auth/login\", {\n        email: this.state.logInDetails.email,\n        password: this.state.logInDetails.password\n      }).then(res => {\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"user\", res.data.name);\n        this.setState({\n          loading: false,\n          loggedIn: true\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false,\n          logInStatus: error.response.data\n        });\n      });\n    }\n  } // *******************************\n\n\n  render() {\n    if (this.state.loggedIn) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leftContent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"abc\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"brandName\",\n            children: \"faesbook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"title\",\n            children: \"Recent logins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: \"Click your picture or add an account.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RecentLoginTab, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightContent\",\n        children: /*#__PURE__*/_jsxDEV(LogInOrSignUp, {\n          submit: this.state.submit,\n          loading: this.state.loading,\n          logInStatus: this.state.logInStatus,\n          logInDetails: this.state.logInDetails,\n          onLogInChange: this.onLogInChange,\n          onLogIn: this.onLogIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/media/suvradeep/My Profile/edu/Projects/Core React/fullStack/frontend/src/Pages/Landing.tsx"],"names":["React","Component","LogInOrSignUp","RecentLoginTab","axios","Redirect","Landing","constructor","props","state","userRegister","name","email","password","logInDetails","loading","submit","logInStatus","signUpStatus","loggedIn","onLogInChange","bind","onLogIn","componentDidMount","token","localStorage","getItem","setState","e","preState","target","value","post","then","res","setItem","data","catch","error","response","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Style/Style.css\";\nimport LogInOrSignUp from \"../Components/LogInOrSignUp\";\nimport RecentLoginTab from \"../Components/RecentLoginTab\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\ninterface State {\n  userRegister: {\n    name: string;\n    email: string;\n    password: string;\n  };\n  logInDetails: {\n    email: string;\n    password: string;\n  };\n  loading: boolean;\n  submit: boolean;\n  logInStatus: string;\n  signUpStatus: string;\n  loggedIn: boolean;\n}\n\nexport default class Landing extends Component<{}, State> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      userRegister: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n      },\n      logInDetails: {\n        email: \"\",\n        password: \"\",\n      },\n      loading: false,\n      submit: false,\n      logInStatus: \"\",\n      signUpStatus: \"\",\n      loggedIn: false,\n    };\n\n    this.onLogInChange = this.onLogInChange.bind(this);\n\n    this.onLogIn = this.onLogIn.bind(this);\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"token\");\n    if (token != null) {\n      this.setState({ loggedIn: true });\n    }\n  }\n\n  // ********* Log in *************\n\n  onLogInChange(e: any) {\n    this.setState((preState) => ({\n      logInDetails: {\n        ...preState.logInDetails,\n        [e.target.name]: e.target.value,\n      },\n    }));\n  }\n\n  onLogIn() {\n    if (!this.state.logInDetails.email) {\n      this.setState({ logInStatus: \"Email Must\", submit: true });\n    } else if (!this.state.logInDetails.password) {\n      this.setState({ logInStatus: \"Password Must\", submit: true });\n    } else {\n      this.setState({ loading: true, submit: true });\n      axios\n        .post(\"http://localhost:8080/auth/login\", {\n          email: this.state.logInDetails.email,\n          password: this.state.logInDetails.password,\n        })\n        .then((res) => {\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"user\", res.data.name);\n          this.setState({\n            loading: false,\n            loggedIn: true,\n          });\n        })\n        .catch((error) => {\n          this.setState({\n            loading: false,\n            logInStatus: error.response.data,\n          });\n        });\n    }\n  }\n\n  // *******************************\n\n  render() {\n    if (this.state.loggedIn) return <Redirect to=\"/home\" />;\n\n    return (\n      <div className=\"container\">\n        <div className=\"leftContent\">\n          <div className=\"abc\">\n            <div className=\"brandName\">faesbook</div>\n            <div className=\"title\">Recent logins</div>\n            <div className=\"description\">\n              Click your picture or add an account.\n            </div>\n            <RecentLoginTab />\n          </div>\n        </div>\n        <div className=\"rightContent\">\n          <LogInOrSignUp\n            submit={this.state.submit}\n            loading={this.state.loading}\n            logInStatus={this.state.logInStatus}\n            logInDetails={this.state.logInDetails}\n            onLogInChange={this.onLogInChange}\n            onLogIn={this.onLogIn}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}